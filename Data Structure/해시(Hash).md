# 해시(Hash)
- Key-Value로 이루어진 데이터의 집합을 저장하고 검색하는 데 사용되는 자료구조이다.   
- 해시는 키를 사용하여 특정 값을 저장하고 검색하는 기능을 제공한다.   
- 이 기능을 통해, 빠른 데이터 접근과 검색이 가능하다.   
- 해시 테이블(Hash Table)을 기반으로 구현된다.

<br>

## 해시 자료구조의 주요 특징과 용어
- **해시 함수(Hash Function)**
  - 해시 자료구조의 핵심 요소로, 입력된 키를 고정된 길이의 값(해시 코드 또는 해시 값)으로 변환한다.
  - 해시 값은 배열의 인덱스로 사용되어 실제 데이터의 저장 위치를 결정한다.
- **해시 테이블(Hash Table)**
  - 해시 함수를 사용하여 키와 값을 연결하여 배열로 구현한 자료구조이다.
  - 각 배열 인덱스에 해당하는 위치에 데이터를 저장하고, 해당 인덱스를 해시 코드로 계산하여 빠른 검색을 가능하게 한다.
- **충돌(Collision)** 
  - 서로 다른 키에 대해 해시 함수를 적용하다보면 같은 해시 값이 나올 수 있다. 이러한 상황을 충돌이라고 한다.
- **충돌 해결(Collision Resolution)**
  - 충돌을 해결하는 방법으로 **개방 주소법(Open Addressing)과 체이닝(Chaining)** 등이 있다.
- **로드 팩터(Load Factor)**
  - 해시 테이블에 저장된 데이터의 수와 배열 크기의 비율을 의미한다.
  - 로드 팩터가 크면 충돌이 더 자주 발생할 가능성이 있다.
- 해시 함수의 성능
  - 좋은 해시 함수는 **충돌을 최소화**하고, **키 공간을 균등하게 분포**시키는 역할을 해야 한다.

***빠른 데이터의 접근과 검색이 요구되는 상황에서 유용하게 사용되기 때문에, DB의 인덱싱, 캐싱, 암호화 등 다양한 분야에서 활용된다.***

<br>

## 해시 충돌을 최소화하는 좋은 해시 함수를 설계하는 원칙
- 균등한 분포
- 단방향성
- 짧은 해시코드
- 고르게 분포하는 키 선택
- 해시 키 변환
- 소금 추가(소금이란 입력 키에 추가되는 값을 말함)
- 해시 함수 재설계와 테스트

<br>

## 해시 충돌이 발생했을 때, 처리하는 방식
- **개방 주소법(Open Addressing)**
  - 충돌이 발생하면 새로운 슬롯을 찾아 데이터를 저장하는 방식이다.
  - 새로운 슬롯을 찾는 방식은 선형 탐사, 이차 탐사, 이중 해싱 등이 있다.
  - 개방 주소법은 추가적인 탐사가 필요하기 때문에, **클러스터링(Clustering)** 문제가 발생할 수 있다.
- **체이닝(Chaining)**
  - 충돌이 발생하면 같은 해시 값에 해당하는 데이터를 연결 리스트로 연결하여 저장하는 방식이다.
  - 체이닝은 비교적 간단하고 효율적인 방식이다. 하지만, **메모리 사용**이 더 많이 필요할 수 있다.

***클러스터링으로 인한 성능 저하 발생, 메모리 사용 중 고려해서 해결 방법을 택할 필요가 있다.***

<br>

## Java에서 해시 충돌을 해결하는 방식
**Java의 HashMap 클래스는 기본적으로 체이닝 방식을 사용한다.**   
각 버킷(Bucket)에 연결 리스트를 사용하여 충돌된 요소를 저장하고 관리한다.   
만약 같은 버킷에 여러 요소가 연결되어 있다면, 선형 탐사나 이차 탐사와 같은 추가 탐사 기법이 사용될 수 있다.   
Java 라이브러리에서 이미 충돌에 대한 해결 방식이 구현되어 있기 때문에, 신경쓰지 않아도 된다.   
하지만, 해시 함수의 성능이나 데이터 분포에 따른 충돌도 충분히 발생할 수 있다.   
초기에 버킷 크기 설정이나 로드 팩터 조절 등을 고려하는 것이 좋다.


***Java의 HashMap 클래스는 체이닝 방식을 사용한다.***

<br>

## Double Hashing의 장단점과 단점 해결 방법
**Double Hashing은 개방 주소법의 한 종류이다.**   
선형 탐사나 이차 탐사와는 다른 방식으로 충돌을 처리한다.

- 장점
  - 선형 탐사와 같은 클러스터링 문제가 발생하지 않는다.
  - 클러스터링은 선형 탐사와 같이 충돌로 인해 일부 슬롯이 밀집되서 성능 저하가 발생하는 문제를 말한다.
  - 두 번째 해시 함수(첫 번째 해싱이 실패한 경우, 실행되는 함수)를 사용하여 더 적은 클러스터링을 유발한다.
- 단점
  - 구현이 복잡해지고, 해시 함수들 간의 관계를 조절하는 것이 필요하다.
  - 두 번째 해시 함수가 제대로 설계되지 않았다면, 충돌을 더 많이 유발할 수 있다.
  - 효율적인 두 번째 해시 함수를 설계하는 것이 중요하다.
- 단점 해결 방법
  - 첫 번째, 두 번째 해시 함수를 서로 독립적이고 균등한 분포를 가지도록 설계한다.
  - 해시 함수의 출력 범위를 해시 테이블의 크기와 서로소인 값으로 선택한다.
  - 해시 테이블의 크기를 충분히 크게 설정한다.
 
***Double Hashing은 두 번째 해시 함수를 효율적으로 설계하는 것이 가장 중요하다.***
